<aside
  class="bg-base-50 border-r border-gray-200 group flex flex-col transition-all duration-50 hover:w-48 h-full"
  [class.w-48]="!foldersCollapsed()"
  [class.w-12]="foldersCollapsed()"
>
  <!-- Header and expand / collapse icon -->
  <div class="flex items-center justify-between border-t border-gray-200 pl-4 border-double border-b-4">
    <h2 class="text-xs font-semibold text-neutral-content">
      <span class="group-hover:md:block" [class.hidden]="foldersCollapsed()">Filters</span>
    </h2>

    <pc-swap
      swapOffIcon="chevron-double-right"
      swapOnIcon="chevron-double-left"
      animation="rotate"
      [checked]="!foldersCollapsed()"
      (clickEvent)="toggleFolders()"
      [size]="4"
      class="hover:text-primary"
    ></pc-swap>
  </div>

  <ul class="flex-1 font-light">
    @for (folder of folders(); track folder.id) {
    <li
      class="cursor-pointer flex items-center justify-between px-3 py-2 hover:bg-blue-50"
      (click)="selectFolder(folder)"
      [class.bg-blue-100]="isSelected(folder)"
      [class.text-primary]="isSelected(folder)"
    >
      <div class="flex items-center gap-2">
        <pc-icon class="shrink-0" [size]="4" [name]="getIcon(folder)" />
        <span class="group-hover:md:block" [class.hidden]="foldersCollapsed()">{{ folder.name }}</span>
      </div>

      <span class="text-xs tabular-nums group-hover:md:block font-normal" [class.hidden]="foldersCollapsed()">
        {{ getEmailCount(folder) }}
      </span>
    </li>

    }
  </ul>
</aside>
