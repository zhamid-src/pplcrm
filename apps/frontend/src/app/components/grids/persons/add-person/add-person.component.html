<div class="flex min-h-full flex-col bg-base-100">
  <form [formGroup]="form" class="mx-5 my-10 sm:mx-10">
    <div class="flex flex-col gap-2">
      <label class="label text-base"
        >All fields are optional, but try to add as much as possible
      </label>

      <div class="flex flex-col md:flex-row gap-2">
        <pc-input class="basis-1/3" control="first_name" placeholder="First Name" />
        <pc-input class="basis-1/3" control="middle_name" placeholder="Middle Name(s)" />
        <pc-input class="basis-1/3" control="last_name" placeholder="Last Name" />
      </div>
      <div class="flex flex-col md:flex-row gap-2">
        <pc-input class="basis-1/2" type="email" control="email" placeholder="Email" />
        <pc-input class="basis-1/2" type="email" control="email2" placeholder="Email 2" />
      </div>
      <div class="flex flex-col md:flex-row gap-2">
        <pc-input
          class="basis-1/2"
          type="tel"
          control="mobile"
          placeholder="Mobile Phone"
          [pattern]="phonePattern"
        />
        <pc-input class="basis-1/2" type="tel" control="home_phone" placeholder="Phone 2" />
      </div>
      <input
        class="input-pplcrm placeholder:text-sm"
        placeholder="Enter the address"
        [options]="options"
        ngx-gp-autocomplete
        autocomplete="off"
        (onAddressChange)="handleAddressChange($event)"
      />
      <textarea class="textarea textarea-bordered" placeholder="Notes"></textarea>
      <div class="flex flex-col sm:flex-row gap-2 sm:pr-3">
        <button
          type="submit"
          class="btn btn-primary basis-1/3"
          (click)="add()"
          [disabled]="processing() || form.invalid"
        >
          @if (processing()) {
            <span class="loading loading-dots loading-lg text-primary"></span>
          } @else {
            SAVE & GO BACK
          }
        </button>
        <button
          type="submit"
          class="btn btn-primary basis-1/3"
          (click)="add(true)"
          [disabled]="processing() || form.invalid"
        >
          @if (processing()) {
            <span class="loading loading-dots loading-lg text-primary"></span>
          } @else {
            SAVE & ADD ANOTHER
          }
        </button>
        <button
          type="submit"
          class="btn btn-accent basis-1/3"
          (click)="cancel()"
          [disabled]="processing()"
        >
          CANCEL
        </button>
      </div>
    </div>
  </form>
</div>
