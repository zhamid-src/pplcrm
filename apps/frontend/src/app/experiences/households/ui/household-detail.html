<!-- Template for household detail view -->
<div class="flex min-h-full flex-col bg-base-100">
  <progress class="progress w-full" [class.hidden]="!isLoading()"></progress>
  <form [formGroup]="form" class="mx-5 mt-10 sm:mx-10">
    <fieldset [disabled]="isLoading()">
      <div class="flex flex-col gap-4">
        @if (!household()?.id) {
        <label class="label text-base font-light">All fields are optional, but try to add as much as possible </label>
        } @else {
        <div class="text-center">
          <div class="stats stats-vertical md:stats-horizontal shadow mr-2 mb-10">
            <div class="stat">
              <div class="stat-title">People in Household</div>
              <div class="stat-value">{{ peopleInHouseholdCount() }}</div>
              <div class="stat-desc">Jan 1st - Feb 1st</div>
            </div>

            <div class="stat">
              <div class="stat-title">Interactions</div>
              <div class="stat-value">0</div>
              <div class="stat-desc">↘︎ 90 (14%)</div>
            </div>
          </div>
          <div class="stats stats-vertical md:stats-horizontal shadow mb-10">
            <div class="stat">
              <div class="stat-title">Household Donations</div>
              <div class="stat-value">$0</div>
              <div class="stat-desc">Jan 1st - Feb 1st</div>
            </div>

            <div class="stat">
              <div class="stat-title">Household Volunteers</div>
              <div class="stat-value">0</div>
              <div class="stat-desc">↗︎ 400 (22%)</div>
            </div>
          </div>
        </div>
        }

        <input
          type="text"
          class="input w-full"
          placeholder="Autocomplete Address"
          [options]="options"
          ngx-gp-autocomplete
          (onAddressChange)="handleAddressChange($event)"
        />
        <div class="divider mb-1">OR</div>

        <div class="flex flex-col md:flex-row gap-2">
          <input class="input" placeholder="Unit" formControlName="apt" />
          <input class="input" placeholder="Street Number" formControlName="street_num" />
          <input class="input basis-1/2" placeholder="Street" formControlName="street1" />
        </div>
        <div class="flex flex-col md:flex-row gap-2">
          <input class="input" placeholder="City" formControlName="city" />
          <input class="input" placeholder="State / Province" formControlName="state" />
          <input class="input basis-1/2" placeholder="Country" formControlName="country" />
        </div>
        <div class="flex flex-col md:flex-row gap-2">
          <input class="input" placeholder="Zip / Postal Code" formControlName="zip" />
          <input class="input" type="tel" placeholder="Home Phone" formControlName="home_phone" />
          <div class="basis-1/2"></div>
        </div>

        <div class="divider mb-1">ADDITIONAL</div>
        <pc-tags
          [tags]="tags"
          [enableAutoComplete]="true"
          (tagAdded)="tagAdded($event)"
          (tagRemoved)="tagRemoved($event)"
        ></pc-tags>

        <label class="form-control">
          <textarea
            class="textarea textarea-bordered h-24 w-full"
            placeholder="Notes"
            formControlName="notes"
          ></textarea>
        </label>

        @if (id) {
        <div class="divider mb-1">PEOPLE IN HOUSEHOLD</div>
        <pc-people-in-household [householdId]="id"></pc-people-in-household>
        }

        <pc-add-btn-row
          [isLoading]="isLoading()"
          (btn1Clicked)="save()"
          [buttonsToShow]="household()?.id ? 'two' : 'three'"
        ></pc-add-btn-row>
      </div>
    </fieldset>
  </form>
</div>
